{"paragraphs":[{"text":"%md\nhttp://projects.vinite.eu/science/usoffence2013.csv\n\n","dateUpdated":"2017-01-22T21:16:56+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/markdown"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485119617457_395198751","id":"20170122-211337_1478680361","result":{"code":"SUCCESS","type":"HTML","msg":"<p>http://projects.vinite.eu/science/usoffence2013.csv</p>\n"},"dateCreated":"2017-01-22T21:13:37+0000","dateStarted":"2017-01-23T15:25:00+0000","dateFinished":"2017-01-23T15:25:00+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:1165"},{"text":"import org.apache.commons.io.IOUtils\nimport java.net.URL\nimport java.nio.charset.Charset\n\n// Zeppelin creates and injects sc (SparkContext) and sqlContext (HiveContext or SqlContext)\n// So you don't need create them manually\n\n// load bank data\nval offenceText = sc.parallelize(\n    IOUtils.toString(\n        new URL(\"http://projects.vinite.eu/science/usoffence2013.csv\"),\n        Charset.forName(\"utf8\")).split(\"\\n\"))\n\ncase class Offence(city: String, population: Integer, violent_crime: Integer, burglary: Integer)\n\nval offence = offenceText.map(s => s.split(\";\")).filter(s => s(0) != \"City\").map(\n    s => Offence(s(0).replaceAll(\"\\\"\", \"\"), \n            s(1).replaceAll(\"\\\"\", \"\").toInt,\n            s(2).replaceAll(\"\\\"\", \"\").toInt,\n            s(9).replaceAll(\" \", \"\").toInt\n            \n        )\n).toDF()\noffence.registerTempTable(\"offence\")\n\n","dateUpdated":"2017-01-23T22:23:38+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala","tableHide":false,"editorHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485119816186_812557718","id":"20170122-211656_42290408","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.commons.io.IOUtils\n\nimport java.net.URL\n\nimport java.nio.charset.Charset\n\noffenceText: org.apache.spark.rdd.RDD[String] = ParallelCollectionRDD[2444] at parallelize at <console>:447\n\ndefined class Offence\n\noffence: org.apache.spark.sql.DataFrame = [city: string, population: int ... 2 more fields]\n\nwarning: there was one deprecation warning; re-run with -deprecation for details\n"},"dateCreated":"2017-01-22T21:16:56+0000","dateStarted":"2017-01-23T22:23:38+0000","dateFinished":"2017-01-23T22:23:40+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:1166"},{"text":"%sql\nselect * \nfrom offence\nwhere population > ${PopulationMin=1000000} and population < ${PopulationMax=5000000}\norder by population desc\n","dateUpdated":"2017-01-23T22:24:04+0000","config":{"colWidth":12,"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"keys":[{"name":"city","index":0,"aggr":"sum"}],"values":[{"name":"violent_crime","index":2,"aggr":"sum"},{"name":"burglary","index":3,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"city","index":0,"aggr":"sum"},"yAxis":{"name":"population","index":1,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/sql"},"settings":{"params":{"poluation":"20000000","Poluation":"2000000","Population":"5000000","PopulationMax":"8000000","PopulationMin":"1000000"},"forms":{"PopulationMax":{"name":"PopulationMax","defaultValue":"5000000","hidden":false},"PopulationMin":{"name":"PopulationMin","defaultValue":"1000000","hidden":false}}},"jobName":"paragraph_1485120193762_250391958","id":"20170122-212313_739705344","result":{"code":"SUCCESS","type":"TABLE","msg":"city\tpopulation\tviolent_crime\tburglary\nLos Angeles\t3878725\t16524\t15728\nChicago7 8\t2720554\t0\t17775\nHouston\t2180606\t20993\t23733\nPhiladelphia\t1553153\t17074\t10408\nPhoenix\t1502139\t9492\t16747\nLas Vegas Metropolitan Police Department\t1500455\t11374\t14785\nSan Antonio\t1399725\t8828\t14850\nSan Diego\t1349306\t5303\t6355\nDallas\t1255015\t8330\t14516\n","comment":"","msgTable":[[{"key":"population","value":"Los Angeles"},{"key":"population","value":"3878725"},{"key":"population","value":"16524"},{"key":"population","value":"15728"}],[{"key":"violent_crime","value":"Chicago7 8"},{"key":"violent_crime","value":"2720554"},{"key":"violent_crime","value":"0"},{"key":"violent_crime","value":"17775"}],[{"key":"burglary","value":"Houston"},{"key":"burglary","value":"2180606"},{"key":"burglary","value":"20993"},{"key":"burglary","value":"23733"}],[{"value":"Philadelphia"},{"value":"1553153"},{"value":"17074"},{"value":"10408"}],[{"value":"Phoenix"},{"value":"1502139"},{"value":"9492"},{"value":"16747"}],[{"value":"Las Vegas Metropolitan Police Department"},{"value":"1500455"},{"value":"11374"},{"value":"14785"}],[{"value":"San Antonio"},{"value":"1399725"},{"value":"8828"},{"value":"14850"}],[{"value":"San Diego"},{"value":"1349306"},{"value":"5303"},{"value":"6355"}],[{"value":"Dallas"},{"value":"1255015"},{"value":"8330"},{"value":"14516"}]],"columnNames":[{"name":"city","index":0,"aggr":"sum"},{"name":"population","index":1,"aggr":"sum"},{"name":"violent_crime","index":2,"aggr":"sum"},{"name":"burglary","index":3,"aggr":"sum"}],"rows":[["Los Angeles","3878725","16524","15728"],["Chicago7 8","2720554","0","17775"],["Houston","2180606","20993","23733"],["Philadelphia","1553153","17074","10408"],["Phoenix","1502139","9492","16747"],["Las Vegas Metropolitan Police Department","1500455","11374","14785"],["San Antonio","1399725","8828","14850"],["San Diego","1349306","5303","6355"],["Dallas","1255015","8330","14516"]]},"dateCreated":"2017-01-22T21:23:13+0000","dateStarted":"2017-01-23T22:24:00+0000","dateFinished":"2017-01-23T22:24:00+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:1167"},{"text":"","dateUpdated":"2017-01-22T21:23:46+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485120216508_-813074784","id":"20170122-212336_712336701","result":{"code":"SUCCESS","type":"TEXT","msg":""},"dateCreated":"2017-01-22T21:23:36+0000","dateStarted":"2017-01-23T15:25:00+0000","dateFinished":"2017-01-23T15:25:00+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:1168"}],"name":"USoffence_2013","id":"2C8A6ANPN","angularObjects":{"2C9Y1F5N1:shared_process":[],"2C8KD8KC8:shared_process":[],"2C9FG8RWE:shared_process":[],"2C9WXRMRP:shared_process":[],"2C72XS6AU:shared_process":[],"2C85FB3M4:shared_process":[],"2C896ZWTK:shared_process":[],"2C9G87DT6:shared_process":[],"2C8526Z12:shared_process":[],"2C9UQY8AX:shared_process":[],"2C6UEYMUV:shared_process":[],"2C8XHZ9ZZ:shared_process":[],"2C65D3E9D:shared_process":[],"2C77F2PFH:shared_process":[],"2C9YK8AP8:shared_process":[],"2C9ZFBDRY:shared_process":[],"2C7EMNZA7:shared_process":[],"2C842HFN8:shared_process":[]},"config":{"looknfeel":"default"},"info":{}}